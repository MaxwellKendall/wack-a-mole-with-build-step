{"version":3,"sources":["src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["isGameOver","score","numberOfMoles","gameClock","activeTimeout","difficultyLevelMap","high","low","getDifficultyLevel","document","getElementById","value","getDifficultyLevelNumbers","getRandomTimeoutDurationBasedOnDifficultyLevel","Math","floor","random","generateRandomNumberBetween1and9","resetStats","setGameClock","setTimeout","hideAllMoles","displayNotification","querySelectorAll","forEach","mole","hideMole","displayStats","innerHTML","getRandomMole","querySelector","showMole","classList","contains","remove","add","hideMoleAndSetNewMole","showRandomMoleAndSetRandomHideTimeout","bind","message","gameNotification","Promise","resolve","startGame","then","endGame","clearTimeout","resetGame","onMoleWhack","addEventListener","Date","getFullYear","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","i","length","module"],"mappings":"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","file":"src.a2b27638.map","sourceRoot":"..","sourcesContent":["/**\n * Written by Max Kendall on 10/27/18, using Parcel as a build step and SASS as the CSS PreProcessor\n * \n * Program designed around three concepts\n* I. Single source of trouth -- all functions refer to isGameOver when determining whether or not to execute\n* II. Semantic Naming -- random node or \"mole\" selected based on CSS class naming convention `mole-${number}`\n* III. JavaScript Timeouts -- implemented to hide the randomly selected node if they are not otherwise hidden by a user click\n */\n\nimport './styles/index.scss';\n\n(() => {\n  // global variables (scoped within IIFE closure)\n  let isGameOver = true;\n  let score = 0;\n  let numberOfMoles = 0;\n  let gameClock;\n  let activeTimeout;\n  const difficultyLevelMap = { 0: { high: 3500, low: 400 }, 1: { high: 2000, low: 400 }, 2: {high: 1000, low: 400 }, 3: { high: 850, low: 100 }};\n  \n  // general utility functions\n  const getDifficultyLevel = () => document.getElementById('difficulty').value;\n  const getDifficultyLevelNumbers = () => difficultyLevelMap[getDifficultyLevel()];\n  const getRandomTimeoutDurationBasedOnDifficultyLevel = () => {\n    const { low, high } = getDifficultyLevelNumbers();\n    return Math.floor(Math.random() * high) + low;\n  }\n  const generateRandomNumberBetween1and9 = () => Math.floor(Math.random() * 9) + 1;\n  const resetStats = () => { score = 0; numberOfMoles = 0; };\n  \n  // sets game duration\n  const setGameClock = () => {\n    gameClock = setTimeout(() => {\n      isGameOver = true;\n      hideAllMoles();\n      displayNotification();\n    }, 15000);\n  };\n  // hides all moles\n  const hideAllMoles = () => {\n    document.querySelectorAll('.mole').forEach((mole) => { hideMole(mole) });\n  }\n\n  // displays game stats\n  const displayStats = () => {\n    document.getElementById('js-score').innerHTML = `You've whacked ${score} out of ${numberOfMoles} moles!`;\n  };\n\n  // returns a random mole\n  const getRandomMole = () => {\n    return document.querySelector(`.mole-${generateRandomNumberBetween1and9()}`);\n  }\n\n  // shows a mole\n  const showMole = (mole) => {\n    numberOfMoles++;\n    displayStats();\n    mole.classList.contains('hide') ? mole.classList.remove('hide') : null;\n  }\n  \n  // hides a mole\n  const hideMole = (mole) => {\n    mole.classList.contains('hide') ? null : mole.classList.add('hide');\n  }\n\n  // Hides current mole and chooses/shows the next\n  const hideMoleAndSetNewMole = (mole) => {\n    hideMole(mole);\n    showRandomMoleAndSetRandomHideTimeout();\n  }\n\n  // shows random mole and sets time out to hide it\n  const showRandomMoleAndSetRandomHideTimeout = () => {\n    if (!isGameOver) {\n      const mole = getRandomMole();\n      showMole(mole);\n      activeTimeout = setTimeout(hideMoleAndSetNewMole.bind(this, mole), getRandomTimeoutDurationBasedOnDifficultyLevel());\n    }\n  };\n\n  /**\n   * @param {message} message the string to display to the user\n   * @returns {Promise} promise that resolves when the notification is removed\n   */\n  const displayNotification = (message = `Game over!`) => {\n    const gameNotification = document.getElementById('js-game-notification');\n    gameNotification.classList.add('notification__open');\n    gameNotification.innerHTML = message;\n\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        gameNotification.classList.remove('notification__open');\n        resolve('notification has been removed');\n      }, 1500);\n    })\n  }\n\n  // Functions which compose together the functions above\n  const startGame = () => {\n    if (isGameOver) {\n      isGameOver = false;\n      setGameClock();\n      resetStats();\n      displayStats();\n      displayNotification(`Starting a new game!`)\n        .then(() => {\n          showRandomMoleAndSetRandomHideTimeout();\n        });\n    }\n  };\n\n  const endGame = (message = 'Game Over!') => {\n    if (!isGameOver) {\n      isGameOver = true;\n      clearTimeout(activeTimeout);\n      clearTimeout(gameClock);\n      hideAllMoles();\n      displayNotification(message);\n      resetStats();\n      displayStats();\n    }\n  };\n\n  const resetGame = () => {\n    clearTimeout(activeTimeout);\n    endGame('Resetting game...');\n    resetStats();\n    displayStats();\n    startGame();\n  };\n\n  const onMoleWhack = (mole) => {\n    hideMole(mole);\n    score++;\n    displayStats();\n  };\n\n  // Event listeners\n  document.querySelector('.start').addEventListener('click', startGame);\n  document.querySelector('.stop').addEventListener('click', endGame.bind(this, 'Game has been stopped!'));\n  document.querySelector('.reset').addEventListener('click', resetGame)\n  document.querySelectorAll('.mole').forEach((mole) => { mole.addEventListener('click', onMoleWhack.bind(this, mole)) });\n\n  // Show score\n  displayStats();\n  \n  // display footer\n  document.getElementById('js-footer').innerHTML = `Maxwell Kendall &#169 ${new Date().getFullYear()}`;\n})();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}